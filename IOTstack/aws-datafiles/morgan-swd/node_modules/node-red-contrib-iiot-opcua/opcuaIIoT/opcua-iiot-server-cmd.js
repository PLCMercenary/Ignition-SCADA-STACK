"use strict";module.exports=function(o){require("source-map-support").install();var m=require("./core/opcua-iiot-core");o.nodes.registerType("OPCUA-IIoT-Server-Command",function(e){o.nodes.createNode(this,e),this.commandtype=e.commandtype,this.nodeId=e.nodeId,this.name=e.name;var i=this;i.on("input",function(e){if("inject"===e.nodetype){var o=void 0,n=!0,d=!1,t=void 0;try{for(var a,r=e.addressSpaceItems[Symbol.iterator]();!(n=(a=r.next()).done);n=!0)o=a.value,(e={payload:{},topic:"ServerCommand",nodetype:"CMD"}).payload.commandtype=i.commandtype,e.payload.nodeId=o.nodeId,e.payload.nodeId&&(m.internalDebugLog("node msg stringified: "+JSON.stringify(e)),i.send(e))}catch(e){d=!0,t=e}finally{try{!n&&r.return&&r.return()}finally{if(d)throw t}}}else(e={payload:{},topic:"ServerCommand",nodetype:"CMD"}).payload.commandtype=i.commandtype,e.payload.nodeId=i.nodeId,m.internalDebugLog("node msg stringified: "+JSON.stringify(e)),i.send(e)})})};
//# sourceMappingURL=maps/opcua-iiot-server-cmd.js.map
