"use strict";module.exports=function(o){require("source-map-support").install();var s=require("./core/opcua-iiot-core-discovery");o.nodes.registerType("OPCUA-IIoT-Discovery",function(e){o.nodes.createNode(this,e),this.name=e.name;var n=new s.core.nodeOPCUA.OPCUADiscoveryServer({}),t=this;t.status({fill:"blue",shape:"ring",text:"new"}),n.start(function(){s.internalDebugLog("discovery server started"),t.status({fill:"green",shape:"dot",text:"active"})}),t.on("input",function(e){null!==n&&(e.payload={discoveryUrls:n.getDiscoveryUrls()||[],endpoints:n.endpoints||[]}),t.send(e)}),t.on("close",function(e){null!==n&&n.shutdown(1,function(){s.internalDebugLog("shutdown"),n=null})})})};
//# sourceMappingURL=maps/opcua-iiot-discovery.js.map
